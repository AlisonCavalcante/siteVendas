<section
  class="carrinho-content"
  *ngIf="produto.length != 0 && produto != undefined"
>
  <div class="carrinho" label="Minha Cesta">
    <!--Card de Detalhe da Cesta de Produtos-->
    <div class="content-tab">
      <div>
        <h1 class="carrinho__title">Meu Carrinho</h1>
        <mat-card class="card-cesta mat-elevation-z4">
          <div class="card-content">
            <mat-card-content class="card-cesta__img">
              <img
                *ngIf="produto[0].img"
                [src]="produto[0].img"
                alt="Image do Produto"
              />
            </mat-card-content>
            <mat-card-content class="card-cesta__descricao-produto">
              <p>{{ produto[0].nome }}</p>
              <mat-divider></mat-divider>
              <p>Descrição: {{ produto[0].descricao }}</p>
              <p *ngIf="produto[0].cor">Cor: {{ produto[0].cor }}</p>
              <p *ngIf="produto[0].tamanho">
                Tamanho: {{ produto[0].tamanho }}
              </p>
              <input style="width: 50px" placeholder="Qtd" type="number" />
              <a
                routerLink=""
                style="margin-left: 5px"
                (click)="removerProduto()"
                >remover</a
              >
            </mat-card-content>
            <mat-card-content class="card-cesta__tipoFrete">
              <p style="font-weight: bold">Escolha seu frete</p>
              <div [formGroup]="formularioTipoFrete">
                <mat-radio-group formControlName="frete">
                  <mat-radio-button
                    *ngFor="let item of fretes"
                    [value]="item"
                    >{{ item }}</mat-radio-button
                  >
                  <!-- <mat-radio-button style="margin-left: 10px" value="always"
                  >Expresso:</mat-radio-button
                > -->
                </mat-radio-group>
              </div>
            </mat-card-content>
          </div>
        </mat-card>
      </div>
      <!--Card de Endereço de Entrega-->
      <div class="resumo-compra">
        <div><h1 class="carrinho__title">Resumo da Compra</h1></div>
        <mat-card class="summary mat-elevation-z4">
          <mat-card-content>
            <ul class="summary__items">
              <li>
                <div>Subtotal (2 itens)</div>
                <div>R$ 79,73</div>
              </li>
              <li>
                <div class="summary__items--frete">
                  Frete pela Loja
                  <a routerLink="#">Ver outras opções de entrega</a>
                </div>
                <div>R$ 8,90</div>
              </li>
              <li>
                <div>Cupom de desconto</div>
                <div class="summary__items--cupom">
                  <a *ngIf="!aplicar" (click)="aplicarCupom()">Adicionar</a>
                  <mat-icon (click)="aplicarCupom()" *ngIf="aplicar"
                    >close</mat-icon
                  >
                </div>
              </li>
              <li class="summary__items--cupom-aplicar" *ngIf="aplicar">
                <div>
                  <form style="display: flex">
                    <mat-form-field
                      class="summary__items--cupom-field"
                      appearance="outline"
                    >
                      <mat-label>Cupom de desconto</mat-label>
                      <input matInput style="padding: 0px" />
                    </mat-form-field>
                    <div class="summary__items--cupom-button">
                      <button mat-flat-button>Aplicar</button>
                    </div>
                  </form>
                </div>
              </li>
              <li>
                <div>Descontos</div>
                <div>R$ 0,00</div>
              </li>
              <li>
                <div>Valor total</div>
                <div>R$ 136,35</div>
              </li>
            </ul>
            <div>
              <button
                class="sumary__button--continuar"
                color="warn"
                (click)="pagamento()"
                mat-flat-button
              >
                CONTINUAR
              </button>
              <button class="sumary__button--escolher" mat-flat-button>
                ESCOLHER MAIS PRODUTOS
              </button>
            </div>
          </mat-card-content>
        </mat-card>
        <div class="sumary__compra-segura">
          <a>
            <mat-icon>lock</mat-icon>
            <span>COMPRA SEGURA</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
<ng-container *ngIf="produto == undefined || produto.length == 0">
  <div class="content-carrinho-vazio">
    <div>
      <mat-icon style="font-size: 50px">shopping_cart</mat-icon>
    </div>
    <p>Seu carrinho está vazio</p>
    <p>Adicione produtos clicando no botão “Comprar” na página de produto.</p>
    <div>
      <button
        mat-flat-button
        routerLink="/"
        class="button-voltar"
        color="primary"
      >
        VOLTAR PARA A PÁGINA INICIAL
      </button>
    </div>
  </div>
</ng-container>
